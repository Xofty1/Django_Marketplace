{% extends 'base.html' %}

{% block content %}

<div class="container">
    {% if request.theme == 'dark' %}
    <h2>Изменить данные по темному</h2>
    {% elif request.theme == 'light' %}
    <h2>Изменить данные по светлому</h2>
    {% endif %}

    <!-- Форма для изменения данных и переключения темы -->
    <form method="post">
        {% csrf_token %}
        {% for field in form %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.help_text %}
            <div class="form-help">{{ field.help_text }}</div>
            {% endif %}
            {% if field.errors %}
            <div class="form-error">
                {% for error in field.errors %}
                <p>{{ error }}</p>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        {% endfor %}

        <!-- Кнопка для переключения темы -->
        <p>
            <a class="theme-text" href="{% url 'users:toggle_theme' %}">Переключить тему</a>
            <button type="submit">Сохранить изменения</button>
        </p>
    </form>

</div>

{% endblock %}
